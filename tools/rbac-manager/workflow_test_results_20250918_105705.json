{
  "test_suite": "complete_workflow",
  "timestamp": 1758182225.726413,
  "configuration": {
    "openshift_url": "https://api.opslab-joe.rh-igc.com:6443",
    "skip_tls": true,
    "test_catalog": "openshift-certified-operators",
    "test_package": "abinitio-runtime-operator",
    "test_channel": "release-4.3",
    "test_version": "4.3.3-1"
  },
  "results": [
    {
      "test": "complete_yaml_workflow",
      "success": false,
      "duration": 0.0,
      "details": {
        "step1_generate_config": {
          "success": true,
          "command": "python3 rbac-manager.py catalogd --openshift-url https://api.example.com:6443 --openshift-token sha256~***MASKED*** --skip-tls --debug --generate-config --catalog-name openshift-certified-operators --package abinitio-runtime-operator --channel release-4.3 --version 4.3.3-1 --output /var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmp0ofuzaue",
          "returncode": 0,
          "config_file": "/var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmp0ofuzaue/rbac-manager-config.yaml",
          "has_real_bundle_image": true
        },
        "step2_opm_config": {
          "success": true,
          "command": "python3 rbac-manager.py opm --skip-tls --debug --config /var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmp0ofuzaue/rbac-manager-config.yaml",
          "returncode": 0,
          "yaml_files_created": 0,
          "files_created": false
        }
      },
      "description": "Complete workflow: catalogd generate-config -> opm config (YAML)"
    },
    {
      "test": "complete_helm_workflow",
      "description": "Complete workflow: catalogd generate-config -> opm config (Helm)",
      "success": false,
      "duration": 0,
      "details": {
        "step1_generate_config": {
          "success": true,
          "command": "python3 rbac-manager.py catalogd --openshift-url https://api.example.com:6443 --openshift-token sha256~***MASKED*** --skip-tls --debug --generate-config --catalog-name openshift-certified-operators --package abinitio-runtime-operator --channel release-4.3 --version 4.3.3-1 --output /var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmpjt0_4bwa",
          "returncode": 0,
          "config_modified": true
        },
        "step2_opm_helm": {
          "success": true,
          "command": "python3 rbac-manager.py opm --skip-tls --debug --config /var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmpjt0_4bwa/rbac-manager-config.yaml",
          "returncode": 0,
          "helm_files_created": 0,
          "file_created": false
        }
      }
    },
    {
      "test": "config_validation_workflow",
      "description": "Test config validation with invalid config file",
      "success": true,
      "duration": 0,
      "details": {
        "command": "python3 rbac-manager.py opm --skip-tls --debug --config /var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmp51jdab74/invalid-config.yaml",
        "returncode": 1,
        "failed_as_expected": true,
        "config_file": "/var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmp51jdab74/invalid-config.yaml",
        "error_message": "2025-09-18 10:57:05 - INFO - Successfully loaded configuration from /var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmp51jdab74/invalid-config.yaml\nFatal error: Failed to load configuration from /var/folders/ss/3vqp2nj14xjbvczs_qw1cl8m0000gn/T/tmp51jdab74/invalid-config.yaml: output.mode must be 'stdout' or 'file'\n",
        "error_helpful": true
      }
    }
  ]
}